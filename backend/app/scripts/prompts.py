# scripts/prompts.py
from typing import List

CATEGORY_HINTS = {
    "生活": "清洁/收纳/日用小物/个护工具/文具/居家小电器",
    "食品": "零食/饮料/方便速食/粮油/乳制品/调味品",
    "服装": "T恤/衬衫/外套/裤装/连衣裙/内衣/家居服",
    "美妆": "护肤/彩妆/香水/美发/男士护理/防晒",
    "数码": "手机配件/耳机/移动电源/相机配件/智能穿戴",
    "家电": "厨房电器/清洁电器/空调/冰洗/个护电器",
    "母婴": "奶粉/纸尿裤/婴童服/喂养用品/玩具",
    "运动": "运动服/运动鞋/户外装备/健身器材/骑行",
    "家居": "家具/灯具/床品/装饰/餐厨",
    "宠物": "猫狗主粮/零食/玩具/清洁/日用",
}

def build_generation_prompt(category: str, count: int) -> str:
    hint = CATEGORY_HINTS.get(category, "")
    return f"""你是一个电商商品策划。请为类目“{category}”生成 {count} 个不同的中文商品，输出 JSON 数组（严格的 JSON，不要多余文字）。

每个商品对象必须包含字段：
- id: 留空字符串 ""（由我们后续写入）
- name: 简短中文商品名（≤20字）
- synonyms: 3-6 个中文同义词或别称（数组）
- category: 固定为 “{category}”
- description: 20-50 字中文描述，突出卖点
- tags: 3-8 个关键词（数组）
- price: 数字，范围合理（例如 9.9~9999）
- attributes: 面向该类目的关键属性（对象，键是中文）

类目“{category}”可包含：{hint}

要求：
- 商品之间避免重复或过于相似
- 严格输出 JSON 数组，不要解释性文字
- 字段名固定，字符串不要包含未转义的引号
"""